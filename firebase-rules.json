{
  "rules": {
    "inventory": {
      ".read": "auth != null",
      ".write": "auth != null",
      "$itemId": {
        ".validate": "newData.hasChildren(['tradeName', 'costPrice', 'sellingPrice', 'currentStock', 'minimumStock', 'discountPrevented', 'createdAt', 'updatedAt']) && newData.child('tradeName').isString() && newData.child('tradeName').val().length > 0 && newData.child('costPrice').isNumber() && newData.child('sellingPrice').isNumber() && newData.child('currentStock').isNumber() && newData.child('minimumStock').isNumber() && newData.child('discountPrevented').isBoolean() && newData.child('createdAt').isString() && newData.child('updatedAt').isString()",
        "tradeName": {
          ".validate": "newData.isString() && newData.val().length > 0 && newData.val().length <= 200"
        },
        "genericName": {
          ".validate": "newData.isString() && newData.val().length <= 200 || newData.val() == null"
        },
        "brandName": {
          ".validate": "newData.isString() && newData.val().length <= 200 || newData.val() == null"
        },
        "costPrice": {
          ".validate": "newData.isNumber() && newData.val() >= 0"
        },
        "sellingPrice": {
          ".validate": "newData.isNumber() && newData.val() >= 0"
        },
        "currentStock": {
          ".validate": "newData.isNumber() && newData.val() >= 0"
        },
        "minimumStock": {
          ".validate": "newData.isNumber() && newData.val() >= 0"
        },
        "category": {
          ".validate": "newData.isString() && newData.val().length <= 100 || newData.val() == null"
        },
        "notes": {
          ".validate": "newData.isString() && newData.val().length <= 1000 || newData.val() == null"
        },
        "discountPrevented": {
          ".validate": "newData.isBoolean()"
        },
        "createdAt": {
          ".validate": "newData.isString()"
        },
        "updatedAt": {
          ".validate": "newData.isString()"
        },
        "$other": {
          ".validate": false
        }
      }
    },
    "categories": {
      ".read": "auth != null",
      ".write": "auth != null",
      "$categoryId": {
        ".validate": "newData.hasChildren(['name', 'createdAt']) && newData.child('name').isString() && newData.child('name').val().length > 0 && newData.child('name').val().length <= 200 && newData.child('createdAt').isString()",
        "name": {
          ".validate": "newData.isString() && newData.val().length > 0 && newData.val().length <= 200"
        },
        "description": {
          ".validate": "newData.isString() && newData.val().length <= 500 || newData.val() == null"
        },
        "createdAt": {
          ".validate": "newData.isString()"
        },
        "$other": {
          ".validate": false
        }
      }
    },
    "suppliers": {
      ".read": "auth != null",
      ".write": "auth != null",
      "$supplierId": {
        ".validate": "newData.hasChildren(['name', 'updatedAt']) && newData.child('name').isString() && newData.child('name').val().length > 0 && newData.child('name').val().length <= 200 && newData.child('updatedAt').isString()",
        "name": {
          ".validate": "newData.isString() && newData.val().length > 0 && newData.val().length <= 200"
        },
        "companyName": {
          ".validate": "newData.isString() && newData.val().length <= 200 || newData.val() == null"
        },
        "phoneNumber": {
          ".validate": "newData.isString() && newData.val().length <= 50 || newData.val() == null"
        },
        "address": {
          ".validate": "newData.isString() && newData.val().length <= 500 || newData.val() == null"
        },
        "email": {
          ".validate": "newData.isString() && newData.val().length <= 200 || newData.val() == null"
        },
        "note": {
          ".validate": "newData.isString() && newData.val().length <= 1000 || newData.val() == null"
        },
        "createdAt": {
          ".validate": "newData.isString() || !newData.exists()"
        },
        "updatedAt": {
          ".validate": "newData.isString()"
        },
        "$other": {
          ".validate": false
        }
      }
    },
    "purchases": {
      ".read": "auth != null",
      ".write": "auth != null",
      "$purchaseId": {
        ".validate": "newData.hasChildren(['supplierId', 'supplierName', 'purchaseDate', 'totalItems', 'totalQuantity', 'totalCost', 'createdAt']) && newData.child('supplierId').isString() && newData.child('supplierName').isString() && newData.child('purchaseDate').isString() && newData.child('totalItems').isNumber() && newData.child('totalQuantity').isNumber() && newData.child('totalCost').isNumber() && newData.child('createdAt').isString()",
        "supplierId": {
          ".validate": "newData.isString() && newData.val().length > 0"
        },
        "supplierName": {
          ".validate": "newData.isString() && newData.val().length > 0 && newData.val().length <= 200"
        },
        "purchaseDate": {
          ".validate": "newData.isString()"
        },
        "totalItems": {
          ".validate": "newData.isNumber() && newData.val() >= 0"
        },
        "totalQuantity": {
          ".validate": "newData.isNumber() && newData.val() >= 0"
        },
        "totalCost": {
          ".validate": "newData.isNumber() && newData.val() >= 0"
        },
        "createdAt": {
          ".validate": "newData.isString()"
        },
        "$other": {
          ".validate": false
        }
      }
    },
    "batches": {
      ".read": "auth != null",
      ".write": "auth != null",
      "$batchId": {
        ".validate": "newData.hasChildren(['itemId', 'purchaseId', 'quantity', 'costPrice', 'sellingPrice', 'expiryDate', 'createdAt']) && newData.child('itemId').isString() && newData.child('purchaseId').isString() && newData.child('quantity').isNumber() && newData.child('costPrice').isNumber() && newData.child('sellingPrice').isNumber() && newData.child('expiryDate').isString() && newData.child('createdAt').isString()",
        "itemId": {
          ".validate": "newData.isString() && newData.val().length > 0"
        },
        "purchaseId": {
          ".validate": "newData.isString() && newData.val().length > 0"
        },
        "quantity": {
          ".validate": "newData.isNumber() && newData.val() > 0"
        },
        "costPrice": {
          ".validate": "newData.isNumber() && newData.val() >= 0"
        },
        "sellingPrice": {
          ".validate": "newData.isNumber() && newData.val() >= 0"
        },
        "expiryDate": {
          ".validate": "newData.isString()"
        },
        "createdAt": {
          ".validate": "newData.isString()"
        },
        "$other": {
          ".validate": false
        }
      }
    }
  }
}

